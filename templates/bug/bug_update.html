{% extends 'base.html' %}
{% block title %}设备列表{% endblock %}
{% block content %}
<style>
   /* 保持和详情页一致的基础样式 */
   .edit-card {
   max-width: 1000px;
   margin: 20px auto;
   box-shadow: 0 1px 3px rgba(0,0,0,0.1);
   border-radius: 8px;
   }
   .edit-title {
   padding: 16px 20px;
   border-bottom: 1px solid #eee;
   font-size: 18px;
   font-weight: 600;
   background-color: #f8f9fa;
   border-top-left-radius: 8px;
   border-top-right-radius: 8px;
   }
   .edit-content {
   padding: 20px;
   }
   .field-group {
   margin-bottom: 24px;
   }
   .field-group-title {
   font-size: 16px;
   font-weight: 500;
   margin-bottom: 12px;
   color: #212529;
   border-left: 3px solid #0d6efd;
   padding-left: 8px;
   }
   .form-label {
   font-weight: 500;
   color: #6c757d;
   margin-bottom: 6px;
   }
   /* 只读输入框样式优化 */
   .form-control[readonly] {
   background-color: #f8f9fa;
   border-color: #e9ecef;
   cursor: not-allowed;
   }
   /* 响应式适配 */
   @media (max-width: 768px) {
   .edit-card {
   margin: 10px;
   }
   }
</style>
<div class="container-fluid">
<!-- 设备编辑卡片 -->
<div class="edit-card border">
   <div class="edit-title">
      编辑bug - {{ bug.bug_number|default:"未知bug" }}
   </div>
   <div class="edit-content">
      <!-- 表单提交：POST方法 + CSRF保护（Django必备） -->
      <form method="post" data-turbo="false" novalidate>
         {% csrf_token %}
         <!-- 基础信息分组 -->
         <div class="field-group">
            <div class="field-group-title">基础信息</div>
            <div class="mb-3">
               <label for="bug_number" class="form-label">bug号</label>
               <input type="text" class="form-control" id="bug_number" name="bug_number"
                  value="{{ bug.bug_number|default:'' }}" readonly>
            </div>
            <div class="mb-3">
               <label for="title" class="form-label">title</label>
               <input type="text" class="form-control" id="title" name="title"
                  value="{{ bug.title|default:'' }}" placeholder="请输入bug标题">
            </div>
            <div class="mb-3">
               <label for="description" class="form-label">description</label>
               <input type="text" class="form-control" id="description" name="description"
                  value="{{ bug.description|default:'' }}" placeholder="请输入具体描述">
            </div>
            <!-- 状态信息分组 -->
            <div class="field-group">
               <div class="field-group-title">状态信息</div>
               <div class="mb-3">
                  <label class="form-label">bug状态</label>
                    {{ form.status }}
               </div>
            </div>

            <!-- 表单操作按钮 -->
            <div class="mt-4 d-flex gap-2">
               <button type="submit" class="btn btn-primary">保存修改</button>
               <a href="{% url 'problem_group:bug_detail' bug.pk %}" class="btn btn-outline-secondary">取消返回</a>
            </div>
      </form>
      </div>
   </div>
</div>
{% endblock %}